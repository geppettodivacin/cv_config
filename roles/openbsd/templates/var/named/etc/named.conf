acl clients {
	localnets;
	::1;
};

include "/etc/rndc.key";

controls {
	inet 127.0.0.1 port 953
	allow { 127.0.0.1; }
	keys {"rndc-key";};
};

options {
	version "";
	listen-on    { {{ internal_ip }}; 192.168.42.3; };
	listen-on-v6 { none; };
	empty-zones-enable yes;
	allow-recursion { clients; };
{% if name == 'hydrogen' %}
	also-notify { 192.168.42.2; };
	allow-transfer { 192.168.42.2; };
{% endif %}
};

//logging {
//	channel querylog{
//		file "/querylog";
//		print-category yes;
//		print-time yes;
//	};
//	category queries { querylog;};
//	category lame-servers { null; };
//};

// Standard zones

zone "." {
	type hint;
	file "etc/root.hint";
};

zone "localhost" {
	type master;
	file "standard/localhost";
	allow-transfer { localhost; };
};

zone "127.in-addr.arpa" {
	type master;
	file "standard/loopback";
	allow-transfer { localhost; };
};

zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" {
	type master;
	file "standard/loopback6.arpa";
	allow-transfer { localhost; };
};

// Master zones

zone "collegiumv.org" {
	type {{ named_type }};
	file "{{ named_type }}/collegiumv.org";
{% if name == 'helium' %}
	masters { 192.168.42.1; };
{% endif %}
};

zone "42.168.192.in-addr.arpa" {
	type {{ named_type }};
	file "{{ named_type }}/db.192.168.42";
{% if name == 'helium' %}
	masters { 192.168.42.1; };
{% endif %}
};

// Forward zones

// _msdcs _tcp _udp _sites.collegiumv.org are forwarded in the collegiumv.org zone

zone "utdallas.edu" {
	type forward;
	forward first;
	include "/etc/UTDNS";
};

zone "10.in-addr.arpa" {
	type forward;
	forward only;
	include "/etc/UTDNS";
};

// Special zones (RFC 1912)

zone "0.in-addr.arpa" {
	type master;
	file "master/db.0";
};

zone "255.in-addr.arpa" {
	type master;
	file "master/db.255";
};
